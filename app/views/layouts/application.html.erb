<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title><%= h(yield(:title) || "Twitter") %></title>
    <%= stylesheet_link_tag 'application' %>
    <%= javascript_include_tag :defaults %>
    <%= yield(:head) %>
  </head>
  <body>
    <div id="header">
      <div id="logo">
      <%= link_to( image_tag("logo.png", :alt => "Twitter"), root_path) %>
    </div>
    <div id="main_navi">
    <% if current_user %>
      logged in as <%= current_user.username %>
      <%= link_to "Sign out", logout_path %>
    <% else %>
      <%= link_to "Login", login_path %>
    <% end %>
    </div>
    </div>
    <div class="clear"></div>
    <div id="container">
      <div id="main">
        <%- flash.each do |name, msg| -%>
          <%= content_tag :div, msg, :id => "flash_#{name}" %>
        <%- end -%>

        <%- if show_title? -%>
          <h1><%=h yield(:title) %></h1>
        <%- end -%>

      <%= yield %>
    </div>
    <div id="side">
    <% if current_user %>
      <%= render :partial => "/includes/side_contents" %>
    <% end %>
    </div>
    <div class="clear"></div>
  </body>
</html>
